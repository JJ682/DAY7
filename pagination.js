const http = require('http')
const port = 4500;
let users = [{"id":1,"first_name":"Jeri","last_name":"Wallentin"},
{"id":2,"first_name":"Amory","last_name":"Jenkyn"},
{"id":3,"first_name":"Heath","last_name":"Loseke"},
{"id":4,"first_name":"Netti","last_name":"Herrero"},
{"id":5,"first_name":"Horatia","last_name":"Sandal"},
{"id":6,"first_name":"Ebenezer","last_name":"Briffett"},
{"id":7,"first_name":"Bambi","last_name":"Sidey"},
{"id":8,"first_name":"Sela","last_name":"Goodsal"},
{"id":9,"first_name":"Mildred","last_name":"Woollons"},
{"id":10,"first_name":"Avie","last_name":"Fish"},
{"id":11,"first_name":"Courtenay","last_name":"Bartozzi"},
{"id":12,"first_name":"Harlan","last_name":"McCulley"},
{"id":13,"first_name":"Bobette","last_name":"Zorzutti"},
{"id":14,"first_name":"Brendis","last_name":"Koppel"},
{"id":15,"first_name":"Warren","last_name":"Demcik"},
{"id":16,"first_name":"Hendrik","last_name":"Tipple"},
{"id":17,"first_name":"Giffy","last_name":"Janata"},
{"id":18,"first_name":"Aggi","last_name":"Pelosi"},
{"id":19,"first_name":"Deirdre","last_name":"Meltetal"},
{"id":20,"first_name":"Tulley","last_name":"Bellee"},
{"id":21,"first_name":"Missie","last_name":"Midson"},
{"id":22,"first_name":"Lishe","last_name":"Vinker"},
{"id":23,"first_name":"Alikee","last_name":"McParlin"},
{"id":24,"first_name":"Barbe","last_name":"Snar"},
{"id":25,"first_name":"Doe","last_name":"McManus"},
{"id":26,"first_name":"Malory","last_name":"Kellert"},
{"id":27,"first_name":"D'arcy","last_name":"Bentley"},
{"id":28,"first_name":"Brittni","last_name":"Gillott"},
{"id":29,"first_name":"Briggs","last_name":"Keeler"},
{"id":30,"first_name":"Mellisa","last_name":"Torbeck"},
{"id":31,"first_name":"Odessa","last_name":"Bakhrushkin"},
{"id":32,"first_name":"Erika","last_name":"Thynne"},
{"id":33,"first_name":"Cy","last_name":"Hardaker"},
{"id":34,"first_name":"Rhonda","last_name":"Leve"},
{"id":35,"first_name":"Ailyn","last_name":"Moses"},
{"id":36,"first_name":"Tobiah","last_name":"Peckett"},
{"id":37,"first_name":"Betteann","last_name":"Tumbridge"},
{"id":38,"first_name":"Annice","last_name":"Becarra"},
{"id":39,"first_name":"Preston","last_name":"Dilawey"},
{"id":40,"first_name":"Bartolomeo","last_name":"Regnard"},
{"id":41,"first_name":"Annabal","last_name":"Plaice"},
{"id":42,"first_name":"Silvie","last_name":"Syrie"},
{"id":43,"first_name":"Alic","last_name":"Whitehall"},
{"id":44,"first_name":"Avie","last_name":"Chmarny"},
{"id":45,"first_name":"Evangelin","last_name":"Knuckles"},
{"id":46,"first_name":"Sheela","last_name":"Gilligan"},
{"id":47,"first_name":"Archie","last_name":"Clementi"},
{"id":48,"first_name":"Aurie","last_name":"Goodoune"},
{"id":49,"first_name":"Hunt","last_name":"Aingell"},
{"id":50,"first_name":"Kalli","last_name":"Brodie"},
{"id":51,"first_name":"Richmound","last_name":"Pyser"},
{"id":52,"first_name":"Kristo","last_name":"Cowden"},
{"id":53,"first_name":"Sybille","last_name":"Dunican"},
{"id":54,"first_name":"Nickolas","last_name":"Hovard"},
{"id":55,"first_name":"Aileen","last_name":"Eouzan"},
{"id":56,"first_name":"Cord","last_name":"Patten"},
{"id":57,"first_name":"Buffy","last_name":"Romero"},
{"id":58,"first_name":"Phillipe","last_name":"Burris"},
{"id":59,"first_name":"Goldarina","last_name":"Kernes"},
{"id":60,"first_name":"Nadiya","last_name":"Hanscomb"},
{"id":61,"first_name":"Micky","last_name":"Spurr"},
{"id":62,"first_name":"Korrie","last_name":"Girton"},
{"id":63,"first_name":"Sutton","last_name":"Giraldez"},
{"id":64,"first_name":"Leonhard","last_name":"Schiesterl"},
{"id":65,"first_name":"Reamonn","last_name":"Kingdom"},
{"id":66,"first_name":"Vernor","last_name":"Grisbrook"},
{"id":67,"first_name":"Keri","last_name":"Dyble"},
{"id":68,"first_name":"Greg","last_name":"Giovannini"},
{"id":69,"first_name":"Dorey","last_name":"Hymas"},
{"id":70,"first_name":"Pamelina","last_name":"Gillmor"},
{"id":71,"first_name":"Siward","last_name":"Mitchenson"},
{"id":72,"first_name":"Erna","last_name":"Beaten"},
{"id":73,"first_name":"Dex","last_name":"Spires"},
{"id":74,"first_name":"Prinz","last_name":"Hoofe"},
{"id":75,"first_name":"Gill","last_name":"Razoux"},
{"id":76,"first_name":"Falito","last_name":"Giacomini"},
{"id":77,"first_name":"Noah","last_name":"Jzak"},
{"id":78,"first_name":"Lucienne","last_name":"Richley"},
{"id":79,"first_name":"Binky","last_name":"Smitten"},
{"id":80,"first_name":"Teresina","last_name":"Klainer"},
{"id":81,"first_name":"Beniamino","last_name":"Sickling"},
{"id":82,"first_name":"Rosaline","last_name":"Ughini"},
{"id":83,"first_name":"Joby","last_name":"Devanny"},
{"id":84,"first_name":"Emogene","last_name":"Meininking"},
{"id":85,"first_name":"Rycca","last_name":"Meckiff"},
{"id":86,"first_name":"Jasen","last_name":"Pyvis"},
{"id":87,"first_name":"Aron","last_name":"Gouldthorp"},
{"id":88,"first_name":"Tamas","last_name":"MacManus"},
{"id":89,"first_name":"Cello","last_name":"Lettington"},
{"id":90,"first_name":"Tome","last_name":"Gotts"},
{"id":91,"first_name":"Gare","last_name":"Poppleston"},
{"id":92,"first_name":"Constancia","last_name":"Malster"},
{"id":93,"first_name":"Philippe","last_name":"Pardue"},
{"id":94,"first_name":"Prudy","last_name":"Pepys"},
{"id":95,"first_name":"Melissa","last_name":"Rittmeier"},
{"id":96,"first_name":"Davie","last_name":"Dobrovsky"},
{"id":97,"first_name":"Myca","last_name":"Crohan"},
{"id":98,"first_name":"Karlen","last_name":"Cannavan"},
{"id":99,"first_name":"Anatole","last_name":"Feasby"},
{"id":100,"first_name":"Bernardo","last_name":"Stefanovic"},
{"id":101,"first_name":"Monika","last_name":"MacClinton"},
{"id":102,"first_name":"Nerta","last_name":"Alvin"},
{"id":103,"first_name":"Haskel","last_name":"Bleazard"},
{"id":104,"first_name":"Joseph","last_name":"Doghartie"},
{"id":105,"first_name":"Nathanil","last_name":"Andreasen"},
{"id":106,"first_name":"Brandice","last_name":"Sephton"},
{"id":107,"first_name":"Talia","last_name":"Waterhowse"},
{"id":108,"first_name":"Marlow","last_name":"Ledram"},
{"id":109,"first_name":"Robb","last_name":"Grubey"},
{"id":110,"first_name":"Darb","last_name":"Di Ruggero"},
{"id":111,"first_name":"Maurizio","last_name":"Grimwad"},
{"id":112,"first_name":"Peyter","last_name":"Beynke"},
{"id":113,"first_name":"Gerrard","last_name":"Maria"},
{"id":114,"first_name":"Mala","last_name":"Tullot"},
{"id":115,"first_name":"Aldis","last_name":"O'Noulane"},
{"id":116,"first_name":"Cristionna","last_name":"Miners"},
{"id":117,"first_name":"Fenelia","last_name":"Paley"},
{"id":118,"first_name":"Lucy","last_name":"Owbridge"},
{"id":119,"first_name":"Robinett","last_name":"Bondy"},
{"id":120,"first_name":"Nicolai","last_name":"Ellyatt"},
{"id":121,"first_name":"Halette","last_name":"Chappelle"},
{"id":122,"first_name":"Cayla","last_name":"Castanho"},
{"id":123,"first_name":"Buddie","last_name":"Tarr"},
{"id":124,"first_name":"Garrott","last_name":"Aikenhead"},
{"id":125,"first_name":"Margeaux","last_name":"Hanhardt"},
{"id":126,"first_name":"Hollyanne","last_name":"Arnopp"},
{"id":127,"first_name":"Randene","last_name":"Cathery"},
{"id":128,"first_name":"Rochelle","last_name":"Baison"},
{"id":129,"first_name":"Jilly","last_name":"Landrieu"},
{"id":130,"first_name":"Klement","last_name":"Brownsall"},
{"id":131,"first_name":"Dasi","last_name":"Normant"},
{"id":132,"first_name":"Aleda","last_name":"Tyt"},
{"id":133,"first_name":"Massimiliano","last_name":"Godley"},
{"id":134,"first_name":"Evaleen","last_name":"Skey"},
{"id":135,"first_name":"Zilvia","last_name":"Weatherley"},
{"id":136,"first_name":"Sergeant","last_name":"Lamprey"},
{"id":137,"first_name":"Sibley","last_name":"Mathwen"},
{"id":138,"first_name":"Suzi","last_name":"Copner"},
{"id":139,"first_name":"Bartie","last_name":"Belk"},
{"id":140,"first_name":"Flss","last_name":"Crimes"},
{"id":141,"first_name":"Sigismond","last_name":"Kiffin"},
{"id":142,"first_name":"Diann","last_name":"Kiddle"},
{"id":143,"first_name":"Waldon","last_name":"Fraczak"},
{"id":144,"first_name":"Clovis","last_name":"Pickover"},
{"id":145,"first_name":"Alisander","last_name":"Martina"},
{"id":146,"first_name":"Velvet","last_name":"Magor"},
{"id":147,"first_name":"Frannie","last_name":"Davidovici"},
{"id":148,"first_name":"Emmaline","last_name":"Cummins"},
{"id":149,"first_name":"Astra","last_name":"Abrahamsen"},
{"id":150,"first_name":"Liv","last_name":"Kinney"},
{"id":151,"first_name":"Halette","last_name":"McCreagh"},
{"id":152,"first_name":"Minta","last_name":"Forrest"},
{"id":153,"first_name":"Beniamino","last_name":"Selby"},
{"id":154,"first_name":"Hertha","last_name":"Bowkett"},
{"id":155,"first_name":"Fenelia","last_name":"Tegler"},
{"id":156,"first_name":"Katrinka","last_name":"Fonzo"},
{"id":157,"first_name":"Melly","last_name":"Rigolle"},
{"id":158,"first_name":"Carree","last_name":"Chicotti"},
{"id":159,"first_name":"Laurice","last_name":"Torricina"},
{"id":160,"first_name":"Ermengarde","last_name":"Hyland"},
{"id":161,"first_name":"Willey","last_name":"Volonte"},
{"id":162,"first_name":"Siouxie","last_name":"Kilkenny"},
{"id":163,"first_name":"Edith","last_name":"Cossentine"},
{"id":164,"first_name":"Caritta","last_name":"Copestick"},
{"id":165,"first_name":"Berne","last_name":"Merck"},
{"id":166,"first_name":"Walther","last_name":"Stuehmeyer"},
{"id":167,"first_name":"Robert","last_name":"Siddaley"},
{"id":168,"first_name":"Phil","last_name":"Payne"},
{"id":169,"first_name":"Pierette","last_name":"Gutierrez"},
{"id":170,"first_name":"Duffy","last_name":"Clague"},
{"id":171,"first_name":"Norry","last_name":"Waddington"},
{"id":172,"first_name":"Rosemaria","last_name":"Burtwistle"},
{"id":173,"first_name":"Tripp","last_name":"Sevin"},
{"id":174,"first_name":"Rab","last_name":"McNabb"},
{"id":175,"first_name":"Mei","last_name":"Queen"},
{"id":176,"first_name":"Niki","last_name":"Mobius"},
{"id":177,"first_name":"Antonio","last_name":"Paulo"},
{"id":178,"first_name":"Celle","last_name":"De Vile"},
{"id":179,"first_name":"Raquel","last_name":"Siddon"},
{"id":180,"first_name":"Page","last_name":"Zamboniari"},
{"id":181,"first_name":"Jaye","last_name":"Petriello"},
{"id":182,"first_name":"Christin","last_name":"Beevors"},
{"id":183,"first_name":"Daile","last_name":"Norbury"},
{"id":184,"first_name":"Ingmar","last_name":"Olyonov"},
{"id":185,"first_name":"Isidro","last_name":"Ismail"},
{"id":186,"first_name":"Tabitha","last_name":"Ladon"},
{"id":187,"first_name":"Thibaut","last_name":"Handscomb"},
{"id":188,"first_name":"Laverne","last_name":"Griggs"},
{"id":189,"first_name":"Sutherlan","last_name":"Hutton"},
{"id":190,"first_name":"Quintina","last_name":"Moorcraft"},
{"id":191,"first_name":"Arty","last_name":"Sneezum"},
{"id":192,"first_name":"Merla","last_name":"Gerrie"},
{"id":193,"first_name":"Meara","last_name":"Schulken"},
{"id":194,"first_name":"Carlin","last_name":"Tyrone"},
{"id":195,"first_name":"Marten","last_name":"Dackombe"},
{"id":196,"first_name":"Marcela","last_name":"Pole"},
{"id":197,"first_name":"Hobard","last_name":"Featherstonhaugh"},
{"id":198,"first_name":"Lavina","last_name":"Spurriar"},
{"id":199,"first_name":"Arlette","last_name":"Dive"},
{"id":200,"first_name":"Welbie","last_name":"Hubery"}]

const server = http.createServer((req,res)=>{
    const url = req.url;
    if(url.includes('getPaginatedUsers')){
        ///getPaginatedUsers?pageNumber=1&count=10
        let str = url.split("?")[1]
        let pageNumber = parseInt(str.split("&")[0].split("=")[1]);
        let count = parseInt(str.split("&")[1].split("=")[1]);
        
        let start= (pageNumber -1)*count
        let end = start + count ;

        let PaginatedUsers = users.slice(start,end);
        res.end(JSON.stringify(PaginatedUsers));
    }
    
});
server.listen(port,(err)=>{
    if(err){
        console.login("error",err)
    }else{
        console.log("server started")
    }
})